{"version":3,"sources":["../../src/lib/config/throttling.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC","file":"throttling.js","sourcesContent":["\"use strict\";\n\nexport interface ThrottlingConfig {\n    /**\n     * milliseconds - how long to keep records of requests in memory. \n     * Defaults to 60000 (1 minute).  \n     */\n    windowMs?: number;\n    /**\n     * max number of connections during windowMs before starting to delay responses. \n     * Defaults to 1. Set to 0 to disable delaying.\n     */\n    delayAfter?: number;\n    /**\n     * milliseconds - how long to delay the response, multiplied by (number of recent hits - delayAfter). \n     * Defaults to 1000 (1 second). Set to 0 to disable delaying.\n     */\n    delayMs?: number;\n    /**\n     * max number of connections during windowMs milliseconds before sending a 429 response. \n     * Defaults to 5. Set to 0 to disable.\n     */\n    max?: number;\n    /**\n     * Error message returned when max is exceeded. \n     * Defaults to 'Too many requests, please try again later.'\n     */\n    message?: string;\n    /**\n     * HTTP status code returned when max is exceeded. \n     * Defaults to 429.\n     */\n    statusCode?: number;\n    /**\n     * Enable header to show request limit and current usage.\n     */\n    headers?: boolean;\n    /**\n     * The name of the function used to generate keys. By default user IP address (req.ip) is used.\n     * For Example, on myKeyGen.js file:\n     * ```\n     * module.exports = function (req) {\n     *    return req.ip;\n     * };\n     * ```\n     * This function must be saved on a js file:\n     * ``` \n     * middleware/throttling/keyGenerator/myKeyGen.js\n     * ```\n     */\n    keyGenerator?: string;\n    /**\n     * The name of the function to execute once the max limit is exceeded. It receives the request \n     * and the response objects. The \"next\" param is available if you need to pass to the \n     * next middleware.\n     * \n     * For Example, on myHandler.js file:\n     * ```\n     * module.exports = function (req, res) {\n     *   res.format({\n     *      html: function(){\n     *         res.status(options.statusCode).end(options.message);\n     *      },\n     *      json: function(){\n     *         res.status(options.statusCode).json({ message: options.message });\n     *      }\n     *   });\n     * };\n     * ```\n     * This function must be saved on a js file:\n     * ``` \n     * middleware/throttling/handler/myHandler.js\n     * ```\n     */\n    handler?: string;\n}"]}