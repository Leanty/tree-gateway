{"version":3,"sources":["../../src/lib/authentication/strategies/basic.ts"],"names":["passport","require","passport_http_1","pathUtil","module","exports","apiKey","authConfig","gateway","p","join","middlewarePath","verify","verifyFunction","use","BasicStrategy"],"mappings":";;;;;;;;;AAEA,IAAYA,QAAA,GAAQC,OAAA,CAAM,UAAN,CAApB,C;;AACA,IAAAC,eAAA,GAAAD,OAAA,CAA4B,eAA5B,CAAA,C;;AAGA,IAAYE,QAAA,GAAQF,OAAA,CAAM,MAAN,CAApB,C;;AAEAG,MAAA,CAAOC,OAAP,GAAiB,UAAUC,MAAV,EAA0BC,UAA1B,EAA2DC,OAA3D,EAA2E;AAAA,I,sCAAA;AAAA,I,sCAAA;AAAA,IACxF,IAAIC,CAAA,GAAIN,QAAA,CAASO,IAAT,CAAcF,OAAA,CAAQG,cAAtB,EAAsC,gBAAtC,EAAwD,QAAxD,EAAkEJ,UAAA,CAAWK,MAA7E,CAAR,CADwF;AAAA,I,sCAAA;AAAA,IAExF,IAAIC,cAAA,GAAiBZ,OAAA,CAAQQ,CAAR,CAArB,CAFwF;AAAA,I,sCAAA;AAAA,IAGxFT,QAAA,CAASc,GAAT,CAAaR,MAAb,EAAqB,IAAIJ,eAAA,CAAAa,aAAJ,CAAkBF,cAAlB,CAArB,EAHwF;AAAA,CAA5F","file":"basic.js","sourcesContent":["\"use strict\";\n\nimport * as passport from 'passport';\nimport {BasicStrategy} from 'passport-http';\nimport {Gateway} from \"../../gateway\"; \nimport {BasicAuthentication} from \"../../config/authentication\";\nimport * as pathUtil from \"path\"; \n\nmodule.exports = function (apiKey: string, authConfig: BasicAuthentication, gateway: Gateway) {\n    let p = pathUtil.join(gateway.middlewarePath, 'authentication', 'verify', authConfig.verify);                \n    let verifyFunction = require(p);\n    passport.use(apiKey, new BasicStrategy(verifyFunction));\n};\n"]}