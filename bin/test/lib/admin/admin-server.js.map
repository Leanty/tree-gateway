{"version":3,"sources":["admin/admin-server.js","../../src/lib/admin/admin-server.ts"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","__param","paramIndex","decorator","typescript_rest_1","require","Utils","APIService","prototype","search","Promise","resolve","reject","gateway","apis","getApi","name","filter","apiConfig","GET","Function","Path","PathParam","String","exports"],"mappings":"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","file":"admin-server.js","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar typescript_rest_1 = require(\"typescript-rest\");\nrequire(\"es6-promise\");\nvar Utils = require(\"underscore\");\nvar APIService = (function () {\n    function APIService() {\n    }\n    APIService.prototype.search = function () {\n        return new Promise(function (resolve, reject) {\n            resolve(APIService.gateway.apis);\n        });\n    };\n    APIService.prototype.getApi = function (name) {\n        return new Promise(function (resolve, reject) {\n            resolve(Utils.filter(APIService.gateway.apis, function (apiConfig) {\n                return name === apiConfig.name;\n            }));\n        });\n    };\n    __decorate([\n        typescript_rest_1.GET, \n        __metadata('design:type', Function), \n        __metadata('design:paramtypes', []), \n        __metadata('design:returntype', Promise)\n    ], APIService.prototype, \"search\", null);\n    __decorate([\n        typescript_rest_1.GET,\n        typescript_rest_1.Path(\":name\"),\n        __param(0, typescript_rest_1.PathParam(\"name\")), \n        __metadata('design:type', Function), \n        __metadata('design:paramtypes', [String]), \n        __metadata('design:returntype', Promise)\n    ], APIService.prototype, \"getApi\", null);\n    APIService = __decorate([\n        typescript_rest_1.Path('apis'), \n        __metadata('design:paramtypes', [])\n    ], APIService);\n    return APIService;\n}());\nexports.APIService = APIService;\n","\"use strict\";\n\nimport {Path, GET, PathParam} from \"typescript-rest\";\nimport \"es6-promise\";\nimport {Gateway} from \"../gateway\";\nimport {ApiConfig} from \"../config/api\";\nimport * as Utils from \"underscore\";\n\n@Path('apis')\nexport class APIService {\n    static gateway: Gateway;\n\n    @GET\n    search() : Promise<Array<ApiConfig>>{\n        return new Promise<Array<ApiConfig>>((resolve, reject) =>{\n            resolve(APIService.gateway.apis);\n        });\n    }\n\n    @GET\n    @Path(\":name\")\n    getApi(@PathParam(\"name\")name: string) : Promise<Array<ApiConfig>>{\n        return new Promise<Array<ApiConfig>>((resolve, reject) =>{\n            resolve(Utils.filter(APIService.gateway.apis, (apiConfig)=>{\n                return name === apiConfig.name;\n            }));\n        });\n    }\n\n\n}"]}